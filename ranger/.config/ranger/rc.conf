# =============================
# Ranger Pro Config (Vim-driven)
# =============================

# --- General ---
# Ranger already uses $EDITOR/$VISUAL
# set editor $EDITOR <--- REMOVED

# Enable image previews
set preview_images true
# Preview method
set preview_images_method kitty
set use_preview_script true
# Show hidden files like .gitignore
set show_hidden true
# Automatically count files for display
set automatically_count_files true
# Confirm deletions with multiple selection
set confirm_on_delete multiple

# --- Sorting ---
set sort natural
set sort_case_insensitive true 
set sort_directories_first true

# --- Keybindings (Vim-like) ---
map yy yank
map dd cut
map pp paste
map u undo
map <C-r> redo

# --- Quick Navigation ---
map gh cd ~
map gd cd ~/Documents
map gp cd ~/Pictures
map gv cd ~/Videos
map gm cd ~/Music
map gt cd ~/thesis/figures

# --- Open with external programs ---
# Inline image preview using FEH
map i shell -p feh --scale-down -Z %s
# Open with SXIV (another image viewer)
map I shell -p sxiv -a %s
# PDF preview via pdftoppm → feh
map P shell -p pdftoppm -png %s | feh -

# --- Copy path to clipboard ---
# Using printf %s|xclip to avoid trailing newline from echo
map yp shell -d printf %s "%s" | xclip -selection clipboard
map yn shell -d printf %s "%n" | xclip -selection clipboard
map yd shell -d printf %s "%d" | xclip -selection clipboard

# --- Integration with LaTeX/Vim ---
# CALLING CUSTOM COMMAND FROM commands.py
map Y yanklatex

# --- Search / Filter ---
map / console search
map n search_next
map N search_prev
map f console find%space
map F console grep%space

# --- Tabs (like buffers in Vim) ---
map tn tab_new
map tc tab_close
map to tab_only
map <Tab> tab_move 1
map <S-Tab> tab_move -1

# --- Misc ---
map q quit
map Q quitall
